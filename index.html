<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-01-25 Mon 15:03 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bond Price and Yield</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Matt Brigida, Ph.D." />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Bond Price and Yield</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org5590aab">1. Calculating Bond Price Given YTM</a>
<ul>
<li><a href="#org2782233">1.1. Annual Payments</a></li>
<li><a href="#orgcfdb64f">1.2. Semiannual Payments</a></li>
<li><a href="#org7dd955e">1.3. The effect of semiannual compounding</a></li>
</ul>
</li>
<li><a href="#org728bcb6">2. Calculating the YTM Given the Price</a>
<ul>
<li><a href="#org930a05c">2.1. Annual Payments</a></li>
<li><a href="#org2210249">2.2. Semiannual payments</a></li>
</ul>
</li>
<li><a href="#org00e1667">3. Interest Rate Risk</a></li>
<li><a href="#org7f997a4">4. Reading Ease Score</a></li>
</ul>
</div>
</div>
<p>
In these notes we'll discuss calculating a bond's price given its yield, and also conversely calculating its yield given its price.  Before we do, however, it is important to understand why we do these calculations and what they mean. First consider:
</p>

<pre class="example">
We quote a bond by its yield and not its price.
</pre>

<p>
Why?  For students who have more experience with stock this may not make sense at first. However, consider that there is <b><b>one traded stock for each company</b></b>, but that <b><b>there may be many different bonds which qualify as 10-year treasury notes</b></b>.  Each of these notes may have a different price, but they all have the same yield.  So while there is no ambiguity in quoting the price of a stock, if you quote the price of one of the notes it is ambiguous&#x2014;quoting the yield is unique however.
</p>

<p>
To understand why there may be many prices for treasury notes, consider that a 30 year treasury bond issued 20 years ago is now a 10-year treasury note.  Because yields were much higher 20 years ago, this present 10-year note will have a price far above par value ($1000). Similarly, a 20-year bond issued 10 years ago is now a 10 year bond (well the 20 year was last issued in 1986), and it will also have a price above par given declining interest rates.  Lastly, a 10 year treasury note sold today will sell for par.   
</p>

<p>
So here we have three separate notes each with different prices but the same yield. This is why quoting the price is not meaningful for bonds.  That said, given the yield we have to calculate the price if we would like to buy the bond&#x2014;bond orders are by price.  Hence, here we calculation the price given the yield and vice versa.
</p>

<p>
We are not <b><b>valuing</b></b> a bond here however.  Bond valuation means figuring out how much a bond is worth, and can be done using, for example, zero coupon bonds (for treasury bonds). What we are doing is being told the yield, which with the bond's features (maturity, coupon, etc), uniquely determines the price.  You can think of this a <b><b>bond price/yield translation</b></b>.
</p>

<div id="outline-container-org5590aab" class="outline-2">
<h2 id="org5590aab"><span class="section-number-2">1</span> Calculating Bond Price Given YTM</h2>
<div class="outline-text-2" id="text-1">
<p>
The only thing we have to take care doing is setting up the cash flow per period and the rate per period.  Once we understand these, calculation of the bond value is a simply application of the time-value-of-money formulas we learned earlier. 
</p>

<p>
\[Bond\ Value = Present\ Value\ of\ the\ Coupon\ Payments + Present\ Value\ of\ the\ Par\ Value\]
</p>

<p>
Letting \(C\), \(r\), \(par\), and \(n\) denote the coupon payment per period, rate per period, par value, and number of periods respectively:
</p>

<p>
\[Bond\ Value = C \frac{\left(1 - \frac{1}{(1 + r)^n}\right)}{r} + \frac{par}{(1 + r)^n}\]
</p>

<p>
which you may notice is just the present value of an annuity plus the present value of the bond's par value.
</p>

<p>
Importantly, note I have written the coupon and rate <b><b>per period</b></b>.  
</p>

<p>
Coupon:
</p>
<ul class="org-ul">
<li>If the bond has an annual period, then the coupon payment per period is just the coupon rate times the par value ($1000).</li>
<li>If the bond has a semiannual period, then the coupon payment per period is the product of the coupon rate times and the par value divided by 2, i.e. \(\frac{coupon\ rate * par}{2}\).</li>
</ul>

<p>
Rate:
</p>
<ul class="org-ul">
<li>If the bond has an annual period, then the rate per period is just the yield-to-maturity.</li>
<li>If the bond has a semiannual period, then the rate per period is the yield-to-maturity divided by 2.</li>
</ul>

<p>
Number of Periods:
</p>
<ul class="org-ul">
<li>If the bond has an annual period, then the number of periods is the number of years.</li>
<li>If the bond has a semiannual period, then the number of periods is the number of years times 2.</li>
</ul>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Period Type</th>
<th scope="col" class="org-left">Coupon per Period</th>
<th scope="col" class="org-left">Rate per Period</th>
<th scope="col" class="org-left">Number of Periods</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Annual</td>
<td class="org-left">\(coupon\ rate * par\)</td>
<td class="org-left">\(YTM\)</td>
<td class="org-left">\(number\ of\ years\)</td>
</tr>

<tr>
<td class="org-left">Semiannual</td>
<td class="org-left">\(\frac{coupon\ rate * par}{2}\)</td>
<td class="org-left">\(\frac{YTM}{2}\)</td>
<td class="org-left">\(number\ of\ years * 2\)</td>
</tr>
</tbody>
</table>

<p>
where \(YTM\) denotes the yield-to-maturity.
</p>
</div>


<div id="outline-container-org2782233" class="outline-3">
<h3 id="org2782233"><span class="section-number-3">1.1</span> Annual Payments</h3>
<div class="outline-text-3" id="text-1-1">
<p>
The source code below is in <a href="https://www.rust-lang.org/">Rust, which is a new systems programming language with a seemingly clairvoyant compiler.</a>
</p>

<div class="org-src-container">
<pre class="src src-rust"><span style="color: #859900;">fn</span> <span style="color: #b58900;">main</span>() {
    bond_value_annual_payments(0.07, 1000.0, 10.0, 0.05); <span style="color: #586e75; font-style: italic;">//</span><span style="color: #586e75; font-style: italic;">ytm, par, years, coupon</span>
}

<span style="color: #859900;">fn</span> <span style="color: #b58900;">bond_value_annual_payments</span>(<span style="color: #6c71c4;">ytm</span>: <span style="color: #268bd2;">f32</span>, <span style="color: #6c71c4;">par</span>: <span style="color: #268bd2;">f32</span>, <span style="color: #6c71c4;">years</span>: <span style="color: #268bd2;">f32</span>, <span style="color: #6c71c4;">coupon</span>: <span style="color: #268bd2;">f32</span>) {

    <span style="color: #859900;">let</span> <span style="color: #6c71c4;">bv</span>: <span style="color: #268bd2;">f32</span> = par * coupon * (1.0 - 1.0 / (1.0 + ytm).powf(years)) / ytm + par / (1.0 + ytm).powf(years);
    <span style="color: #6c71c4;">println!</span>(<span style="color: #2aa198;">"The bond's value is: $</span><span style="color: #2aa198; font-style: italic;">{:.2}</span><span style="color: #2aa198;">"</span>, bv);
}

</pre>
</div>

<pre class="example">
The bond's value is: $859.53

</pre>
</div>
</div>


<div id="outline-container-orgcfdb64f" class="outline-3">
<h3 id="orgcfdb64f"><span class="section-number-3">1.2</span> Semiannual Payments</h3>
<div class="outline-text-3" id="text-1-2">
<p>
The source code below is written in <a href="https://en.wikipedia.org/wiki/C_(programming_language)">good old C.</a>  The bond has the same \(YTM\), par value, years, and coupon rate as the above calculation.  The only difference is this bond makes semiannual payments.  Note the calculation of the coupon and rate per period, and the number of periods to adjust for the semiannual period.
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #268bd2;">int</span>
<span style="color: #b58900;">main</span>(){

<span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">ytm</span> = 0.07;
<span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">par</span> = 1000.0;
<span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">years</span> = 10.0;
<span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">coupon</span> = 0.05;

<span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">num_periods</span> = years * 2.0;
<span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">rate_per_period</span> = ytm / 2.0;
<span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">coupon_pmt_per_period</span> = (coupon / 2.0) * par;

<span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">bv</span> = coupon_pmt_per_period * (1 - 1 / pow(1 + rate_per_period, num_periods)) / rate_per_period + par / pow(1 + rate_per_period, num_periods);

printf(<span style="color: #2aa198;">"The bond's value is $%.2f\n"</span>, bv);
<span style="color: #859900;">return</span> 0;

}

</pre>
</div>

<pre class="example">
The bond's value is $857.88

</pre>
</div>
</div>


<div id="outline-container-org7dd955e" class="outline-3">
<h3 id="org7dd955e"><span class="section-number-3">1.3</span> The effect of semiannual compounding</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Note the above two bonds have the same coupon, time to maturity, and yield.  The only difference is the latter has semiannual compounding.  So can you explain why the second bond has a lower price?
</p>
</div>
</div>
</div>





<div id="outline-container-org728bcb6" class="outline-2">
<h2 id="org728bcb6"><span class="section-number-2">2</span> Calculating the YTM Given the Price</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org930a05c" class="outline-3">
<h3 id="org930a05c"><span class="section-number-3">2.1</span> Annual Payments</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #859900;">from</span> scipy <span style="color: #859900;">import</span> optimize

<span style="color: #6c71c4;">coupon_pmt</span> = 1000 * 0.05
<span style="color: #6c71c4;">years</span> = 10
<span style="color: #6c71c4;">bv</span> = 859.53  <span style="color: #586e75; font-style: italic;">## </span><span style="color: #586e75; font-style: italic;">this is our bond value above (annual payments)</span>

<span style="color: #859900;">def</span> <span style="color: #b58900;">eq</span><span style="color: #839496;">(</span>YTM<span style="color: #839496;">)</span>:
<span style="color: #586e75; background-color: #073642;"> </span>   <span style="color: #859900;">return</span><span style="color: #839496;">(</span>coupon_pmt * <span style="color: #2aa198;">(</span>1 - 1 / <span style="color: #6c71c4;">pow</span><span style="color: #b58900;">(</span>1 + YTM, years<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span> / YTM + 1000 / <span style="color: #6c71c4;">pow</span><span style="color: #2aa198;">(</span>1 + YTM, years<span style="color: #2aa198;">)</span> - bv<span style="color: #839496;">)</span>

<span style="color: #6c71c4;">root</span> = optimize.newton<span style="color: #839496;">(</span>eq, 0.1<span style="color: #839496;">)</span> <span style="color: #586e75; font-style: italic;">## </span><span style="color: #586e75; font-style: italic;">0.1 is our initial guess</span>
<span style="color: #586e75; font-style: italic;">## </span><span style="color: #586e75; font-style: italic;">note, there are not multiple roots here, but if there were would this root finder list them????</span>

<span style="color: #859900;">print</span><span style="color: #839496;">(</span><span style="color: #2aa198;">"The YTM is: "</span>, <span style="color: #6c71c4;">round</span><span style="color: #2aa198;">(</span>root * 100, 2<span style="color: #2aa198;">)</span>, <span style="color: #2aa198;">"%"</span><span style="color: #839496;">)</span>
</pre>
</div>

<pre class="example">
The YTM is:  7.0 %

</pre>
</div>
</div>

<div id="outline-container-org2210249" class="outline-3">
<h3 id="org2210249"><span class="section-number-3">2.2</span> Semiannual payments</h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">
<pre class="src src-R">par <span style="color: #268bd2;">&lt;-</span> 1000.0
years <span style="color: #268bd2;">&lt;-</span> 10.0
coupon <span style="color: #268bd2;">&lt;-</span> 0.05
bv <span style="color: #268bd2;">&lt;-</span> 857.88

num_periods <span style="color: #268bd2;">&lt;-</span> years * 2.0
coupon_pmt_per_period <span style="color: #268bd2;">&lt;-</span> <span style="color: #839496;">(</span>coupon / 2.0<span style="color: #839496;">)</span> * par

<span style="color: #b58900;">eq</span> <span style="color: #268bd2;">&lt;-</span> <span style="color: #859900;">function</span><span style="color: #839496;">(</span>ytm<span style="color: #839496;">){</span>
    <span style="color: #2aa198;">(</span>coupon_pmt_per_period * <span style="color: #b58900;">(</span>1 - 1 /<span style="color: #859900;">(</span>1 + ytm / 2<span style="color: #859900;">)</span>^num_periods<span style="color: #b58900;">)</span> / <span style="color: #b58900;">(</span>ytm / 2<span style="color: #b58900;">)</span> + par / <span style="color: #b58900;">(</span>1 + ytm / 2<span style="color: #b58900;">)</span>^num_periods - bv<span style="color: #2aa198;">)</span>^2
<span style="color: #839496;">}</span>

print<span style="color: #839496;">(</span>paste0<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"The YTM is: "</span>, round<span style="color: #b58900;">(</span>optim<span style="color: #859900;">(</span>0.1, eq<span style="color: #859900;">)</span>$par * 100, 2<span style="color: #b58900;">)</span>, <span style="color: #2aa198;">"%"</span><span style="color: #2aa198;">)</span><span style="color: #839496;">)</span>
</pre>
</div>

<pre class="example">
[1] "The YTM is: 7%"

</pre>
</div>
</div>
</div>


<div id="outline-container-org00e1667" class="outline-2">
<h2 id="org00e1667"><span class="section-number-2">3</span> Interest Rate Risk</h2>
<div class="outline-text-2" id="text-3">
<p>
We have seen above that the bond's price changes as its yield changes.  Further a lower yield increases the bond's price, and conversely a higher yield decreases the bond's price.  We can see a the above bond (semiannual period) plotted on <i>YTM</i> in the chart below:
</p>

<div class="org-src-container">
<pre class="src src-R">par <span style="color: #268bd2;">&lt;-</span> 1000.0
years <span style="color: #268bd2;">&lt;-</span> 10.0
coupon <span style="color: #268bd2;">&lt;-</span> 0.05
num_periods <span style="color: #268bd2;">&lt;-</span> years * 2.0
coupon_pmt_per_period <span style="color: #268bd2;">&lt;-</span> <span style="color: #839496;">(</span>coupon / 2.0<span style="color: #839496;">)</span> * par

<span style="color: #b58900;">bv</span> <span style="color: #268bd2;">&lt;-</span> <span style="color: #859900;">function</span><span style="color: #839496;">(</span>ytm<span style="color: #839496;">){</span>
    coupon_pmt_per_period * <span style="color: #2aa198;">(</span>1 - 1 /<span style="color: #b58900;">(</span>1 + ytm / 2<span style="color: #b58900;">)</span>^num_periods<span style="color: #2aa198;">)</span> / <span style="color: #2aa198;">(</span>ytm / 2<span style="color: #2aa198;">)</span> + par / <span style="color: #2aa198;">(</span>1 + ytm / 2<span style="color: #2aa198;">)</span>^num_periods
<span style="color: #839496;">}</span>

<span style="color: #268bd2;">library</span><span style="color: #839496;">(</span>highcharter<span style="color: #839496;">)</span>
<span style="color: #268bd2;">library</span><span style="color: #839496;">(</span>htmlwidgets<span style="color: #839496;">)</span>
d <span style="color: #268bd2;">&lt;-</span> data.frame<span style="color: #839496;">(</span>cbind<span style="color: #2aa198;">(</span>seq<span style="color: #b58900;">(</span>0.01, 0.3, by = 0.01<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>, round<span style="color: #2aa198;">(</span>bv<span style="color: #b58900;">(</span>seq<span style="color: #859900;">(</span>0.01, 0.3, by = 0.01<span style="color: #859900;">)</span><span style="color: #b58900;">)</span>, 2<span style="color: #2aa198;">)</span><span style="color: #839496;">)</span>
names<span style="color: #839496;">(</span>d<span style="color: #839496;">)</span> <span style="color: #268bd2;">&lt;-</span> c<span style="color: #839496;">(</span><span style="color: #2aa198;">"YTM"</span>, <span style="color: #2aa198;">"Price"</span><span style="color: #839496;">)</span>
hc <span style="color: #268bd2;">&lt;-</span> hchart<span style="color: #839496;">(</span>d, <span style="color: #2aa198;">"line"</span>, hcaes<span style="color: #2aa198;">(</span>x = YTM, y = Price, value = Price<span style="color: #2aa198;">)</span>, name = <span style="color: #2aa198;">"Bond Price ($)"</span><span style="color: #839496;">)</span> <span style="color: #268bd2;">%&gt;%</span> hc_title<span style="color: #839496;">(</span>text=<span style="color: #2aa198;">"Bond Price and Yield"</span><span style="color: #839496;">)</span>
saveWidget<span style="color: #839496;">(</span>hc_add_theme<span style="color: #2aa198;">(</span>hc, hc_theme_economist<span style="color: #b58900;">()</span><span style="color: #2aa198;">)</span>, <span style="color: #2aa198;">"bond_plot.html"</span><span style="color: #839496;">)</span>
</pre>
</div>

<style>
iframe {
  width: 1000px; /* adjust to your needs */
  max-width: 100%; /* to make it responsive */
  height: 500px;
  border:none;
}
</style>
<div className="iframe">
<iframe src="./bond_plot.html"></iframe>
</div>

<p>
So you can see bond's can have a great deal of <b><b>interest rate risk</b></b>.  This is the risk you buy the bond for $1000 at a 5% <i>YTM</i> and the <i>YTM</i> on the bond increases to 20%, where the bond is worth $361.48 (if years have passes the bond would have a different price, because the above bond is calculated with 10 years to maturity).  
</p>
</div>
</div>

<div id="outline-container-org7f997a4" class="outline-2">
<h2 id="org7f997a4"><span class="section-number-2">4</span> <a href="https://en.wikipedia.org/wiki/Flesch%25E2%2580%2593Kincaid_readability_tests">Reading Ease Score</a></h2>
<div class="outline-text-2" id="text-4">
<pre class="example">

"Flesch-Kincaid reading ease score: 102.67 Very easy (5th grade)"

</pre>

<pre class="example">

"Flesch-Kincaid grade level score: 2.14"

</pre>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Matt Brigida, Ph.D.</p>
<p class="date">Created: 2021-01-25 Mon 15:03</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
